{% extends "AgencyHome-Base.html" %}

{% load static %}

{% block content %}
<!--  Header Start -->
<header class="app-header">
  <nav class="navbar navbar-expand-lg navbar-light">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link nav-icon-hover" href="/AgencyHome">소속 목록</a>
      </li>
      <li class="nav-item">
        <a class="nav-link nav-icon-hover" href="/DetailedAnalysis">인플루언서 정보</a>
      </li>
      <li class="nav-item">
        <a class="nav-link nav-icon-hover" href="/DetailedAnalysisChart" title="소속 인플루언서들을 시각적으로 자세히 분석해드립니다.">상세 분석</a>
      </li>
      <li class="nav-item">
        <a class="nav-link nav-icon-hover" href="" title="모집공고 글을 작성, 수정 또는 삭제합니다." style="color: #5D87FF;">모집공고 관리</a>
      </li>
    </ul>
    <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
      <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
        <a href="/accounts/Adv_Logout" class="btn btn-primary">로그아웃</a>
      </ul>
    </div>
  </nav>
</header>
<!--  Header End -->

      {% comment %} <div class="container-fluid">

        <!--  Row 1 -->
        <div class="row">
          <h3>관리</h3>
          <div class="card">
            <div class="card-body">
              <div class="row">
                {% for notice in notices %}
                {% if notice.agency_id == user.id %}
                {% if notice.images.all %}
                <div class="col-md-4">
                  <div class="card">
                    <img src="{% static 'img/recruitment_images/스크린샷_2023-05-12_171701_REaAvrc.png' %}" class="card-img-top" alt="모집 공고글 (광고 캠페인 글)">
                    <div class="card-body">
                      <h5 class="card-title"><strong>{{ notice.title }}</strong></h5>
                      <p class="card-text" style="font-size:11px;">{{ notice.period }}<br>
                        {{ notice.marketing_content }}<br>
                        {{ notice.media_channels }}</p>
                      <div class="col-md-12">
                        <a href="#" class="btn btn-outline-primary" style="margin-right:33.3333%;" data-toggle="modal"
                          data-target="#myModal{{ notice.pk }}">보기</a>

                        <!-- 모달 창 코드 -->
                        <div class="modal fade" id="myModal{{ notice.pk }}">
                          <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                              <!-- 모달 헤더 -->
                              <div class="modal-header">
                                <h4 class="modal-title">{{ notice.title }}_모집공고</h4>
                                <button type="button" class="btn-close" aria-label="Close"
                                  data-dismiss="modal"></button>
                              </div>
                              <!-- 모달 본문 -->
                              <div class="modal-body" style="max-height: 500px; overflow-y: auto;">
                                <!-- 스크롤이 필요한 내용을 여기에 추가합니다. -->
                                <!-- 많은 내용이 들어가면 스크롤이 나타납니다. -->
                                <h2><strong>{{ notice.title }}</strong></h2>
                                <p style="opacity:0.5;">{{ notice.period }}</p>
                                <br>
                                <hr>
                                <strong>
                                  <p>
                                    [카테고리]<br>
                                    {{ notice.category }}<br><br>
                                    [진행내용]<br>
                                    {{ notice.content_1|safe }}<br>
                                    {% if notice.content_2 %}
                                    <br>
                                    {{ notice.content_2|safe }}<br>
                                    {% endif %}
                                  </p>
                                </strong>
                                <img src="{% static 'img/recruitment_images/스크린샷_2023-05-12_171701.png' %}" alt=""
                                  style="max-width:750px; margin-top: 100px;">
                                <!-- 다른 내용들 -->
                              </div>
                              <!-- 모달 푸터 -->
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <a href="/edit-notice' notice.pk " class="btn btn-primary">수정</a>
                        <a href="/delete_notice' notice.pk " class="btn btn-danger" data-url="/delete_notice' notice.pk"  onclick="return confirmDelete('{{ notice.pk }}')">삭제</a>

                      </div>
                    </div>
                  </div>
                </div>
                {% endif %}
                {% endif %}
                {% endfor %}
                <div class="col-md-4">
                  <div class="card">
                    <img src="{% static 'img/products/recruit2.jpg' %}" class="card-img-top" alt="모집 공고글 2(광고 캠페인 글)">
                    <div class="card-body">
                      <h5 class="card-title">Card title</h5>
                      <p class="card-text">Some quick example text to build on the card title and make up the bulk of
                        the
                        card's content.</p>
                      <div class="col-md-12">
                        <a href="#" class="btn btn-outline-primary" style="margin-right:33.3333%;">보기</a>
                        <a href="#" class="btn btn-primary">수정</a>
                        <a href="#" class="btn btn-danger">삭제</a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card">
                    <img src="{% static 'img/products/recruit3.jpg' %}" class="card-img-top" alt="모집 공고글 3(광고 캠페인 글)">
                    <div class="card-body">
                      <h5 class="card-title">Card title</h5>
                      <p class="card-text">Some quick example text to build on the card title and make up the bulk of
                        the
                        card's content.</p>
                      <div class="col-md-12">
                        <a href="#" class="btn btn-outline-primary" style="margin-right:33.3333%;">보기</a>
                        <a href="#" class="btn btn-primary">수정</a>
                        <a href="#" class="btn btn-danger">삭제</a>
                      </div>
                    </div>
                  </div>
                </div>
                <a href="../create" class="btn btn-primary">공고 쓰기</a>
              </div>
            </div>
          </div>
        </div> {% endcomment %}
      <div class="container-fluid" style="padding-top: 10px;">
        <!-- Row 1 -->
        <div class="row">
          <h3>관리</h3>
          <div class="card">
            <div class="card-body">
              <div class="row">
                {% for notice in notices %}
                {% if notice.agency_id == user.id %}
                {% if notice.images.all %}
                <div class="col-md-4">
                  <div class="card">
                    <img src="{% static 'img/recruitment_images/스크린샷_2023-05-12_171701_REaAvrc.png' %}" class="card-img-top" alt="모집 공고글 (광고 캠페인 글)">
                    <div class="card-body">
                      <h5 class="card-title"><strong>{{ notice.title }}</strong></h5>
                      <p class="card-text" style="font-size:11px;">{{ notice.period }}<br>
                        {{ notice.marketing_content }}<br>
                        {{ notice.media_channels }}</p>
                      <div class="col-md-12">
                        <a href="#" class="btn btn-outline-primary" style="margin-right:33.3333%;" data-toggle="modal"
                          data-target="#myModal{{ notice.pk }}">보기</a>

                        <!-- 모달 창 코드 -->
                        <div class="modal fade" id="myModal{{ notice.pk }}">
                          <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                              <!-- 모달 헤더 -->
                              <div class="modal-header">
                                <h4 class="modal-title">{{ notice.title }}_모집공고</h4>
                                <button type="button" class="btn-close" aria-label="Close"
                                  data-dismiss="modal"></button>
                              </div>
                              <!-- 모달 본문 -->
                              <div class="modal-body" style="max-height: 500px; overflow-y: auto;">
                                <!-- 스크롤이 필요한 내용을 여기에 추가합니다. -->
                                <!-- 많은 내용이 들어가면 스크롤이 나타납니다. -->
                                <h2><strong>{{ notice.title }}</strong></h2>
                                <p style="opacity:0.5;">{{ notice.period }}</p>
                                <br>
                                <hr>
                                <strong>
                                  <p>
                                    [카테고리]<br>
                                    {{ notice.category }}<br><br>
                                    [진행내용]<br>
                                    {{ notice.content_1|safe }}<br>
                                    {% if notice.content_2 %}
                                    <br>
                                    {{ notice.content_2|safe }}<br>
                                    {% endif %}
                                  </p>
                                </strong>
                                <img src="{% static 'img/recruitment_images/스크린샷_2023-05-12_171701.png' %}" alt=""
                                  style="max-width:750px; margin-top: 100px;">
                                <!-- 다른 내용들 -->
                              </div>
                              <!-- 모달 푸터 -->
                              <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <a href="/edit-notice' notice.pk " class="btn btn-primary">수정</a>
                        <a href="/delete_notice' notice.pk " class="btn btn-danger" data-url="/delete_notice' notice.pk"  onclick="return confirmDelete('{{ notice.pk }}')">삭제</a>

                      </div>
                    </div>
                  </div>
                </div>
                {% endif %}
                {% endif %}
                {% endfor %}
                <div class="col-md-4">
                  <div class="card">
                    <img src="{% static 'img/products/recruit2.jpg' %}" class="card-img-top" alt="모집 공고글 2(광고 캠페인 글)">
                    <div class="card-body">
                      <h5 class="card-title">Card title</h5>
                      <p class="card-text">Some quick example text to build on the card title and make up the bulk of
                        the
                        card's content.</p>
                      <div class="col-md-12">
                        <a href="#" class="btn btn-outline-primary" style="margin-right:33.3333%;">보기</a>
                        <a href="#" class="btn btn-primary">수정</a>
                        <a href="#" class="btn btn-danger">삭제</a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card">
                    <img src="{% static 'img/products/recruit3.jpg' %}" class="card-img-top" alt="모집 공고글 3(광고 캠페인 글)">
                    <div class="card-body">
                      <h5 class="card-title">Card title</h5>
                      <p class="card-text">Some quick example text to build on the card title and make up the bulk of
                        the
                        card's content.</p>
                      <div class="col-md-12">
                        <a href="#" class="btn btn-outline-primary" style="margin-right:33.3333%;">보기</a>
                        <a href="#" class="btn btn-primary">수정</a>
                        <a href="#" class="btn btn-danger">삭제</a>
                      </div>
                    </div>
                  </div>
                </div>
                <a href="../create" class="btn btn-primary">공고 쓰기</a>
              </div>
            </div>
          </div>
        </div>
        <script>
          function confirmDelete(noticeId) {
            if (confirm("정말로 이 공고를 삭제하시겠습니까?")) {
              var url = "../delete/" + noticeId + "/";
              window.location.href = url;
            }
            return false; // 이벤트를 계속 전파하지 않도록 false를 반환합니다.
          }
        </script>
        {% endblock %}